@import "tailwindcss";

/*
 * Cucumber Maths — Design System
 * Brand Foundation v1: Hyper-modern engineered. Premium. Calm.
 * See docs/BRAND.md for authoritative reference.
 *
 * CSS ordering (critical):
 *   1. @import "tailwindcss"    — ONLY @import, at the very top
 *   2. @theme inline { ... }   — Tailwind v4 design tokens
 *   3. @font-face { ... }      — NOT @import (no ordering constraint)
 *   4. Base styles              — body, headings, scrollbar, selection, focus
 */

/* ── Tailwind v4 Theme ─────────────────────────── */
@theme inline {

    /* Typography */
    --font-sans: "Hanken Grotesk", ui-sans-serif, system-ui, sans-serif;
    --font-mono: "Geist Mono", ui-monospace, monospace;

    /* ── Dark Mode (Primary Identity) ──────────── */

    /* Foundations */
    --color-background: #0E1116;
    --color-foreground: #E6EDF3;

    --color-card: #171C22;
    --color-card-foreground: #E6EDF3;

    --color-popover: #171C22;
    --color-popover-foreground: #E6EDF3;

    /* Accent — Refined Mint + Soft Aqua */
    --color-primary: #2ADDB0;
    --color-primary-foreground: #0E1116;

    --color-secondary: #4CCFC0;
    --color-secondary-foreground: #0E1116;

    /* Surfaces — semantic separation */
    --color-elevated: #1F2630;
    --color-muted: #1F2630;
    --color-muted-foreground: #9CA3AF;

    --color-accent: #1F2630;
    --color-accent-foreground: #E6EDF3;

    /* States */
    --color-destructive: #EF4444;
    --color-destructive-foreground: #FFFFFF;

    /* Borders & Input */
    --color-border: rgba(255, 255, 255, 0.06);
    --color-input: rgba(255, 255, 255, 0.06);
    --color-ring: #2ADDB0;

    /* Data Visualisation — reduced saturation, mint excluded */
    --color-chart-1: #14B8A6;
    --color-chart-2: #6366F1;
    --color-chart-3: #F59E0B;
    --color-chart-4: #F43F5E;
    --color-chart-5: #38BDF8;
    --color-chart-6: #8B5CF6;

    /* Sidebar */
    --color-sidebar: #0E1116;
    --color-sidebar-foreground: #E6EDF3;
    --color-sidebar-primary: #2ADDB0;
    --color-sidebar-primary-foreground: #0E1116;
    --color-sidebar-accent: #1F2630;
    --color-sidebar-accent-foreground: #E6EDF3;
    --color-sidebar-border: rgba(255, 255, 255, 0.06);
    --color-sidebar-ring: #2ADDB0;

    /* Radii — 10px brand standard, no pills */
    --radius-sm: 0.375rem;
    --radius-md: 0.5rem;
    --radius-lg: 0.625rem;
    --radius-xl: 0.75rem;

    /* Ledger-specific */
    --color-ledger-bg: #141922;
    --color-ledger-border: rgba(255, 255, 255, 0.05);
    --color-code: #C9D1D9;

    /* State colours */
    --color-success: #22C55E;
    --color-warning: #F59E0B;
    --color-info: #38BDF8;

    /* Custom text muted (6B7280 from brand, distinct from muted-foreground 9CA3AF) */
    --color-text-muted: #6B7280;
}

/* ── Geist Mono (@font-face, NOT @import — no ordering constraint) ── */
@font-face {
    font-family: "Geist Mono";
    src: url("https://cdn.jsdelivr.net/npm/geist@1.3.1/dist/fonts/geist-mono/GeistMono-Regular.woff2") format("woff2");
    font-weight: 400;
    font-style: normal;
    font-display: swap;
}

@font-face {
    font-family: "Geist Mono";
    src: url("https://cdn.jsdelivr.net/npm/geist@1.3.1/dist/fonts/geist-mono/GeistMono-Medium.woff2") format("woff2");
    font-weight: 500;
    font-style: normal;
    font-display: swap;
}

/* ── Base Styles ───────────────────────────────── */
* {
    border-color: var(--color-border);
}

body {
    background-color: var(--color-background);
    color: var(--color-foreground);
    font-family: var(--font-sans);
    font-size: 16px;
    line-height: 1.55;
    font-feature-settings: "cv02", "cv03", "cv04";
    font-variant-numeric: tabular-nums;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

h1,
h2,
h3,
h4,
h5,
h6 {
    font-weight: 600;
    line-height: 1.25;
}

/* ── Mono / Ledger ─────────────────────────────── */
pre,
code,
.font-mono {
    font-family: var(--font-mono);
    font-size: 14px;
    line-height: 1.6;
    color: var(--color-code);
    font-feature-settings: "cv02", "cv03", "cv04";
    font-variant-numeric: tabular-nums;
}

/* ── Scrollbar — subtle, engineered ────────────── */
::-webkit-scrollbar {
    width: 6px;
    height: 6px;
}

::-webkit-scrollbar-track {
    background: transparent;
}

::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.08);
    border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.14);
}

/* ── Selection ─────────────────────────────────── */
::selection {
    background: rgba(42, 221, 176, 0.2);
    color: #FFFFFF;
}

/* ── Focus ring — deliberate, not browser default ─ */
*:focus-visible {
    outline: 2px solid var(--color-primary);
    outline-offset: 2px;
}

/* ── Transitions — 150–200ms ease-in-out, no bounce */
* {
    transition-timing-function: ease-in-out;
}